/* stylesheets/extra.css */
:root {
  --md-primary-fg-color:        #44546A;
  --md-primary-fg-color--light: #8A97A8;
  --md-primary-fg-color--dark:  #2D3A4D;
}

/* Light mode colors */
[data-md-color-scheme="default"] {
  /* Main content link colors */
  --md-typeset-a-color: #1D6CB0;
  --md-typeset-a-hover-color: #14507D;
  /* Table of contents link base color */
  --md-toc-link-color: #44546A;

  /* Table of contents link colors */
  --md-toc-link-hover-color: #1D6CB0;
}

/* Dark mode colors */
[data-md-color-scheme="slate"] {
  /* Softer dark background — slightly warm slate instead of near-black */
  --md-default-bg-color: #1E2433;
  --md-default-bg-color--light: #262D3E;
  /* Main content link colors */
  --md-typeset-a-color: #7CB3F0;
  --md-typeset-a-hover-color: #A8CFF5;
  /* Table of contents link base color */
  --md-toc-link-color: #94A3B8;

  /* Table of contents link colors */
  --md-toc-link-hover-color: #B0C4DE;
}

/* Light mode main content link styles */
[data-md-color-scheme="default"] .md-typeset a {
  color: var(--md-typeset-a-color);
}

[data-md-color-scheme="default"] .md-typeset a:hover,
[data-md-color-scheme="default"] .md-typeset a:focus,
[data-md-color-scheme="default"] .md-typeset a:active {
  color: var(--md-typeset-a-hover-color);
}

/* Light mode table of contents link styles */
[data-md-color-scheme="default"] .md-nav__item .md-nav__link {
  color: var(--md-toc-link-color);
}

[data-md-color-scheme="default"] .md-nav__item .md-nav__link:hover,
[data-md-color-scheme="default"] .md-nav__item .md-nav__link:focus,
[data-md-color-scheme="default"] .md-nav__item .md-nav__link--active {
  color: var(--md-toc-link-hover-color);
}

/* Dark mode main content link styles */
[data-md-color-scheme="slate"] .md-typeset a {
  color: var(--md-typeset-a-color);
}

[data-md-color-scheme="slate"] .md-typeset a:hover,
[data-md-color-scheme="slate"] .md-typeset a:focus,
[data-md-color-scheme="slate"] .md-typeset a:active {
  color: var(--md-typeset-a-hover-color);
}

/* Dark mode table of contents link styles */
[data-md-color-scheme="slate"] .md-nav__item .md-nav__link {
  color: var(--md-toc-link-color);
}

[data-md-color-scheme="slate"] .md-nav__item .md-nav__link:hover,
[data-md-color-scheme="slate"] .md-nav__item .md-nav__link:focus,
[data-md-color-scheme="slate"] .md-nav__item .md-nav__link--active {
  color: var(--md-toc-link-hover-color);
}

/* Add a subtle shadow to all images */
.md-content img {
    box-shadow: 0px 0px 13px rgba(0, 0, 0, 0.1);
    border-radius: 4px; /* Optional: adds rounded corners */
    cursor: zoom-in;
    transition: transform 0.2s ease-in-out, z-index 0.2s ease-in-out;
    z-index: 1; /* Default z-index */
    position: relative; /* Ensure it respects stacking order */
}

.md-content img:active {
    transform: scale(1.8);
    transform-origin: center top;
    cursor: zoom-out;
    z-index: 1000; /* Increase z-index when zoomed */
}

/* First level: circles */
.md-content ul {
    list-style-type: disc;
    margin: 0.5em 0;
    padding-left: 20px;
    color: var(--md-default-fg-color);
}

/* Second level: hyphens */
.md-content ul ul {
    list-style-type: none;
    margin: 0.25em 0;
}

.md-content ul ul li::before {
    content: "-";
    color: var(--md-primary-fg-color);
    margin-right: 8px;
    font-weight: bold;
}

/* Third level: small arrows */
.md-content ul ul ul {
    list-style-type: none;
    margin: 0.25em 0;
}

.md-content ul ul ul li::before {
    content: "→";
    color: var(--md-primary-fg-color--light);
    margin-right: 8px;
    font-weight: bold;
}

/* General styling for list items */
.md-content ul li {
    margin-bottom: 0.3em;
    line-height: 1.5;
}

/* Styling for code blocks in pre elements, useful to display directory trees */
.pre code {
  background-color: var(--md-code-bg-color, #f5f5f5);
  padding: 10px;
  display: block;
  font-family: monospace;
}

/* =========================
   Layout & Navigation polish
   ========================= */

/* Fully fluid content area: expand with viewport without cap */
.md-grid { max-width: none; width: 98vw; }

/* Active link accent in primary nav (reverted to theme default) */

/* Sticky secondary sidebar (reverted to theme default) */

/* Breadcrumbs subtle style (reverted) */

/* Search input focus accent */
.md-search__input:focus {
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--md-primary-fg-color) 35%, transparent);
}

/* Footer subtle background and links */
.md-footer { box-shadow: 0 -2px 8px rgb(0 0 0 / 5%); }
.md-footer a { text-decoration: none; }
.md-footer a:hover { text-decoration: underline; }

/* =========================
   Headings & Typography
   ========================= */

.md-typeset { line-height: 1.65; }

.md-typeset h2 {
  margin-top: 2rem;
  padding-bottom: .25rem;
  border-bottom: 1px solid rgb(0 0 0 / 10%);
}
[data-md-color-scheme="slate"] .md-typeset h2 {
  border-bottom-color: rgb(255 255 255 / 12%);
}
.md-typeset h3 { margin-top: 1.5rem; }

/* Optional: add subtle gradient to the first H1 on a page */
.md-content__inner > h1:first-child {
  background: linear-gradient(90deg, var(--md-primary-fg-color), var(--md-primary-fg-color--light));
  -webkit-background-clip: text; background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* =========================
   Cards & Callouts
   ========================= */

/* Grid cards polish */
.md-typeset .grid.cards > ul > li {
  border-radius: 10px;
  box-shadow: 0 2px 10px rgb(0 0 0 / 6%);
  transition: transform .15s ease, box-shadow .15s ease;
}
/* Let Material's default grid.cards layout adapt responsively (no fixed columns) */
.md-typeset .grid.cards > ul > li:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgb(0 0 0 / 10%);
}
.md-typeset .grid.cards > ul > li > a { padding: 0.9rem 1rem; }
.md-typeset .grid.cards svg,
.md-typeset .grid.cards .twemoji {
  /* Use theme default icon size; keep brand color */
  color: var(--md-primary-fg-color);
}

/* Admonition polish */
.md-typeset .admonition,
.md-typeset details {
  border-left-width: 4px;
  box-shadow: 0 2px 10px rgb(0 0 0 / 5%);
  border-radius: 6px;
}

/* =========================
   Tables & Code blocks
   ========================= */

/* Table stripes and sticky header */
.md-typeset table:not(.highlighttable) th {
  position: sticky; top: 0; z-index: 1;
  background: var(--md-default-bg-color);
}
.md-typeset table:not(.highlighttable) tbody tr:nth-child(even) td {
  background: color-mix(in srgb, var(--md-default-bg-color) 92%, black);
}
[data-md-color-scheme="slate"] .md-typeset table:not(.highlighttable) tbody tr:nth-child(even) td {
  background: color-mix(in srgb, var(--md-default-bg-color) 92%, white);
}

/* Code blocks styling */
.md-typeset pre {
  border-radius: 8px;
  box-shadow: 0 2px 12px rgb(0 0 0 / 6%);
}
/* Keep default theme background for code blocks */

/* =========================
   Buttons, Chips, Labels
   ========================= */

/* Primary button: use in Markdown as: [Label](url){ .md-button .md-button--primary } */
.md-typeset .md-button {
  border-radius: 999px;
  padding: 0.45rem 0.9rem;
  box-shadow: 0 2px 6px rgb(0 0 0 / 10%);
}

/* Fix: non-primary buttons in light mode should not turn purple on hover */
[data-md-color-scheme="default"] .md-typeset .md-button:not(.md-button--primary) {
  color: var(--md-primary-fg-color);
  border-color: var(--md-primary-fg-color);
  background-color: color-mix(in srgb, var(--md-primary-fg-color) 8%, white);
}
[data-md-color-scheme="default"] .md-typeset .md-button:not(.md-button--primary):hover,
[data-md-color-scheme="default"] .md-typeset .md-button:not(.md-button--primary):focus {
  color: var(--md-primary-fg-color);
  border-color: color-mix(in srgb, var(--md-primary-fg-color) 90%, black);
  background-color: color-mix(in srgb, var(--md-primary-fg-color) 16%, white);
}

/* Dark mode: non-primary buttons adopt link color with subtle tints */
[data-md-color-scheme="slate"] .md-typeset .md-button:not(.md-button--primary) {
  color: var(--md-typeset-a-color);
  border-color: color-mix(in srgb, var(--md-typeset-a-color) 70%, transparent);
  background-color: color-mix(in srgb, var(--md-typeset-a-color) 12%, black);
}
[data-md-color-scheme="slate"] .md-typeset .md-button:not(.md-button--primary):hover,
[data-md-color-scheme="slate"] .md-typeset .md-button:not(.md-button--primary):focus {
  color: var(--md-typeset-a-color);
  border-color: color-mix(in srgb, var(--md-typeset-a-color) 90%, black);
  background-color: color-mix(in srgb, var(--md-typeset-a-color) 18%, black);
}
.md-typeset .md-button--primary {
  background: var(--md-primary-fg-color);
  border-color: var(--md-primary-fg-color);
  color: white;
}

/* Improve primary button hover colors for light/dark */
/* Light mode: darken primary on hover for better contrast */
[data-md-color-scheme="default"] .md-typeset .md-button--primary:hover,
[data-md-color-scheme="default"] .md-typeset .md-button--primary:focus {
  background: color-mix(in srgb, var(--md-primary-fg-color) 88%, black);
  border-color: color-mix(in srgb, var(--md-primary-fg-color) 88%, black);
  color: #fff;
}
[data-md-color-scheme="slate"] .md-typeset .md-button--primary:hover,
[data-md-color-scheme="slate"] .md-typeset .md-button--primary:focus {
  background: color-mix(in srgb, var(--md-primary-fg-color) 82%, black);
  border-color: color-mix(in srgb, var(--md-primary-fg-color) 82%, black);
  color: #fff;
}

.md-typeset .md-button--primary:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--md-primary-fg-color) 40%, white);
  outline-offset: 2px;
}

/* Smooth hover transitions */
.md-typeset .md-button,
.md-typeset .md-button--primary {
  transition: background-color .15s ease, border-color .15s ease, color .15s ease,
              box-shadow .15s ease, transform .05s ease;
}

/* Chips: {: .chip } or {: .chip .chip--green } */
.chip {
  display: inline-flex; align-items: center; gap: .4rem;
  height: 1.6rem; padding: 0 .6rem;
  border-radius: 999px; font-size: .8rem; font-weight: 500;
  background: color-mix(in srgb, var(--md-primary-fg-color) 12%, transparent);
  color: var(--md-primary-fg-color);
  border: 1px solid color-mix(in srgb, var(--md-primary-fg-color) 30%, transparent);
}
.chip--green { color: #2e7d32; background: #2e7d321A; border-color: #2e7d3236; }
.chip--red   { color: #c62828; background: #c628281A; border-color: #c6282836; }
.chip--blue  { color: #1565c0; background: #1565c01A; border-color: #1565c036; }

/* Inline label: {: .label } */
.label {
  display: inline-block; padding: .15rem .4rem; border-radius: .35rem;
  background: color-mix(in srgb, var(--md-primary-fg-color) 10%, transparent);
  color: var(--md-default-fg-color);
  border: 1px solid color-mix(in srgb, var(--md-primary-fg-color) 25%, transparent);
  font-size: .78rem; vertical-align: middle;
}

/* =========================
   Media & Figures
   ========================= */

/* Figure captions */
.md-typeset figure { margin: 1rem 0; }
.md-typeset figcaption {
  margin-top: .4rem; text-align: center;
  color: var(--md-default-fg-color--light); font-size: .9rem;
}

/* Bordered images helper: ![alt](src){ .img-border } */
.img-border { border: 1px solid rgb(0 0 0 / 10%); border-radius: 6px; }
[data-md-color-scheme="slate"] .img-border { border-color: rgb(255 255 255 / 12%); }

/* =========================
   Utilities & Components
   ========================= */

/* Responsive grid helpers: wrap content in <div class="grid-2">...</div> */
.grid-2, .grid-3, .grid-4 {
  display: grid; gap: 1rem; align-items: start;
}
.grid-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.grid-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
.grid-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
@media (max-width: 960px) {
  .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
}

/* Timeline component: simple UL with class .timeline */
.timeline { position: relative; list-style: none; padding-left: 1.25rem; }
.timeline::before {
  content: ""; position: absolute; left: .4rem; top: 0; bottom: 0;
  width: 2px; background: color-mix(in srgb, var(--md-primary-fg-color) 25%, transparent);
}
.timeline > li { position: relative; margin: 0 0 1rem 0; }
.timeline > li::before {
  content: ""; position: absolute; left: -.1rem; top: .25rem;
  width: .7rem; height: .7rem; border-radius: 50%;
  background: var(--md-default-bg-color);
  border: 2px solid color-mix(in srgb, var(--md-primary-fg-color) 60%, transparent);
}
.timeline > li > .timeline-card {
  margin-left: .75rem; padding: .6rem .8rem; border-radius: .5rem;
  box-shadow: 0 2px 10px rgb(0 0 0 / 6%);
  border-left: 3px solid var(--md-primary-fg-color);
}

/* Task list checkboxes: more visible */
.task-list-control input[type="checkbox"] {
  width: 1rem; height: 1rem; border-radius: .2rem;
  border: 1px solid color-mix(in srgb, var(--md-default-fg-color) 30%, transparent);
}
.task-list-control input[type="checkbox"]:checked {
  background: var(--md-primary-fg-color); border-color: var(--md-primary-fg-color);
}
